<!--
	大陸の遥か北の果て。
	この世界の人々が天国と呼ぶ場所
	「魂の眠る地」にたどり着いた。
	そこは多くの魂が集まる場所で、
	私はかつての戦友達と対話した。

				ー大魔法使いフランメー
-->

<!DOCTYPE HTML>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>sumiyo.link</title>
	<link rel="shortcut icon" href="src/icon.png?ver=7" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<link rel="stylesheet" type="text/css" href="style_flexible.css" />

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="preload" as="font" href="src/Poppins Regular.woff2" crossorigin="anonymous" />
	<link rel="stylesheet" type="text/css" href="css/player.css"  />
	<link rel="stylesheet" type="text/css" href="css/hint.css" />

</head>



<body style="pointer-events: none;" id="body" >
<script>
	// 定义核心变量
	const env = {data: {}, f: {}, tmp: {}, timer: {}}
	env.tmp.t1 = new Date()
	env.data.list = {}

	// 初始化界面
	env.f.init = function() {
		env.timer.t1 = setInterval(() => {
			if (!document.hidden) {
				setTimeout(function (){
					$('.footer').fadeIn(300); 
					player.f.loadPlayer();
					env.f.msg('Hello 🎉', 3000);

					// 显示菜单按钮
					$('.menu-btn-1').addClass('fade-in-1');
					$('.t-36').addClass('fade-in-1');

					// 激活页面
					$('#body').removeAttr('style');

				},2500);
				setTimeout(function (){
					$('.t-39').addClass('t-3-active');
					env.f.typewriter1();
				},1500);
				setTimeout(function (){
					$('.Avatar').removeAttr('style');
					$('.Avatar').css('opacity', '1');
					$('.t-3').addClass('t-3-active');
				},1000);

				clearInterval(env.timer.t1)
			}
		},500)
	}

	// 仅允许直接访问此页
	ShowAlert = 1;
	if (document.domain != '') {
		// 重定向备用域名
		if (document.domain == 'sumiyo.pages.dev') {
			window.location.href = 'https://sumiyo.link/';
		}
		if (window.location.href != 'https://sumiyo.link/') {
			ShowAlert = 0;
			document.getElementById('body').style.display = 'none';

			window.location.href = 'https://sumiyo.link/';
		}
	}

</script>




<!-- Main Code -->

<div class="box-1" >
	<!-- Header -->
	<div class="t-36" >
		<span class="t-37" onclick="env.f.blog.open('page/square')" >Square</span>
		|
		<span class="t-37" onclick="env.f.blog.open('page/about')" >About</span>
	</div>

	<div class="box-2" >
		<span class="t-3" >sumiyo</span>
		<div class="t-39" ></div>
	</div>

	<!-- 最大胆的设计，使我们摆脱了头像框的传统限制 -->
	<img class="Avatar" style="transform: scale(1.02);" onload="env.f.init()" src="src/sumiyo.webp" />

	<!-- Blog Iframe -->
	<div class="blog" >
		<iframe name="frame" class="iframe" id="iframe" src ></iframe>
	</div>

</div>



<div class="FixedBox" >

	<!-- Menu  -->
	<div class="menu-btn-1" onclick="env.f.menu.open()" ></div>
	<div class="menu-btn-2" onclick="env.f.menu.close()" ></div>
	<div class="menu-btn-3" onclick="env.f.blog.close()" ></div>

	<div class="menu" >
		<div class="menu-title" >
			MENU.
		</div>
		<hr class="menu-line" />

		<!-- 博客面板 -->
		<div class="menu-box" style="margin-top: 10px;" >
			<div class="menu-btn" onclick="env.f.menu.c1()" >
				<div class="menu-check menu-check-active" id="menu-check-1" ></div>检索:

			</div>
			<span style="line-height: 18px; font-size: 18px; margin-left: 8px; color: rgba(var(--t-t1), 0.3); user-select: none;" ><span class="blog-num" >0</span> items</span>

			<div class="MenuCheck1-inner" >
				<div id="search" >
					<textarea type="text" id="searchInput" onfocus="this.select();" maxlength="14" placeholder="" autocomplete="off" ></textarea><span class="t-38" ></span>
					<ul class="search-result" ></ul>
				</div>
			</div>
		</div>

		<!-- 通知 -->
		<div class="menu-box" style="margin-top: 0px;" >
			<div class="menu-btn" onclick="env.f.menu.c2()" >
				<div class="menu-check menu-check-active" id="menu-check-2" ></div>通知
			</div>

			<div class="MenuCheck2-inner" >
				<div class="news-box" ></div>
				<div class="news-box" ></div>
				<div class="news-box" ></div>
				<div class="news-box" ></div>
				<div class="news-box" ></div>
			</div>
		</div>

		<hr class="menu-line" style="margin-top: 80px;" />

		<!-- 联系 -->
		<div class="menu-box" style="margin-top: 10px;" >
			<div class="menu-btn" onclick="env.f.menu.c3()" >
				<div class="menu-check menu-check-active" id="menu-check-3" ></div>联系
			</div>

			<div class="MenuCheck3-inner" >
				<a href="mailto:me@sumiyo.link" target="_blank" class="contact" >me@sumiyo.link<span class="t-4" ></span></a>
			</div>
		</div>

		<!-- 协议 -->
		<div class="menu-policy" >
			<span class="t-41" onclick="env.f.blog.open('page/policy')" >「 Privacy & Copyright 」</span>
		</div>
	</div>



	<!-- Player   V. 1.20 -->
	<div class="Player" >

		<div class="MusicImgBox" onclick="player.f.menu()" >
			<img class="MusicImg" onload="player.f.loadPlayer()" id="load-img" />
		</div>
		<div class="bar2" ><div class="bar0" ><div class="bar1" ></div></div></div>

		<div class="Player-menu" >
			<span class="list-head" ><a href="javascript:;" onclick="player.f.lrc.gui()" class="listBTN" >歌词</a> | <a href="javascript:;" onclick="player.f.reset()" class="listBTN" >重置</a></span>
			<a href="javascript:;" onclick="player.f.mode()" id="Mod" title="列表循环" ></a>
			<span href="javascript:;" class="Player-menu-sound0" >0</span>
			<span href="javascript:;" class="Player-menu-sound1" title="使用鼠标滑轮调整音量" ><span href="javascript:;" class="Player-menu-sound2"></span></span>

			<hr class="list-line" />
			<div class="PlayerList" >
				<div class="PlayerListInner" ></div>
			</div>
		</div>
		<div class="Player-menu-info" >
			<div class="Player-menu-info-title" >
				这篇文章自带了 1 首音乐哦，
				<br />
				想要听听吗？
				<br />
				<span style="float: right; user-select: none; color: rgba(var(--t-t1), 0.2)" >
					<a class="Player-menu-info-button Player-menu-info-open" >打开</a> | <a class="Player-menu-info-button" onclick="player.f.add.ask(0)" >关闭</a>
				</span>
			</div>
		</div>
		<div class="PlayerButton PlayerButton-pause" onclick="player.f.play()" ></div>
		<div class="MusicName" ></div>
		<audio id="player" src="https://music.163.com/song/media/outer/url?id=448316625.mp3" preload="none" ></audio>
		<a href="javascript:;" onclick="player.f.show()" class="MusicShow0 f-3" ></a>
		<a href="javascript:;" onclick="player.f.show()" class="MusicShow1 f-3" ></a>
	</div>
	<div class="lrcBox" >
		<img class="lrcImg" id="load-img" onload="setTimeout(function (){$(player.e.lrcI).css('opacity', '1')}, 1000)" />
		<div class="lrc-blur" ></div>
		<div class="lrc" ></div>
		<div class="lrcClose" onclick="player.f.lrc.gui()" ></div>
	</div>


	<!-- Footer -->
	<div class="footer">
	<div class="footer-inner" >
		<div class="footer-box-1" >
			<!-- 简短但真挚的感谢 -->
			<span class="footer-t1 footer-t2" >项目支持:</span>
			<a class="footer-t3" onclick="window.open('https://www.cloudflare.com/')" target="_blank" >
				<img src="src/footer/cloudflare.png" style="opacity: 0; filter: saturate(90%);" onload="$(this).addClass('fade-in-1')" id="load-img" />
			</a>
		</div>
		<div class="footer-box-2" >
			<!-- 一点点小小的成就 -->
			<span class="footer-t4 footer-t1" > | 
				<span style="user-select: text;" ><span id="onlineDate" >0</span> 天<span style="display: none;" id="visit_counter_outer" > & <span id="visit_counter">0</span> 访客</span></span>
			</span>
		</div>

	</div>
	</div>



	<!-- MESSAGE   V. 1.0.0 -->
	<div class="message" >
		<div class="message-box" >content</div>
	</div>
	<div class="pageloading" >
		<div class="pageloading0 shining-1" >page.loading(): ...</div>
		<div class="pageloading1" >Err: page loading timeoout 「over 20000ms」</div>
	</div>






<!-- Javascript -->
	<script>
		// 自检
		env.tmp.t2 = ''
		setTimeout(function (){
			if(env.tmp.t2 == 'ok'){
				setTimeout(console.log.bind(
					console,
					'%c[' + env.f.dateFormatter('HH:mm:ss', new Date()) + '] POINT: %cSUCCESS		%cat --root:/index.html --root:/script.js --remote:/../jquery.min.js',
					'color: rgba(100, 102, 102, 0.8); font-weight: bolder;',
					'color: rgba(0, 200, 100, 1); font-weight: bolder;',
					'color: rgba(100, 102, 102, 0.6);'
				));
				setTimeout(console.groupEnd.bind());
			} else {
				setTimeout(console.log.bind(
					console,
					'%c[' + env.f.dateFormatter('HH:mm:ss', new Date()) + '] POINT: %cTIMEOUT		%cat --root:/index.html --root:/script.js --remote:/../jquery.min.js',
					'color: rgba(100, 102, 102, 0.8); font-weight: bolder;',
					'color: rgba(255, 0, 20, 1); font-weight: bolder;',
					'color: rgba(100, 102, 102, 0.6);'
				));
				setTimeout(console.groupEnd.bind());

				$('.message-box').html('Failed to load "script. js" (TIMEOUT)　<a onclick="location.reload();" href="javascript:;" style="color: rgb(var(--t-b1));" ><ins>Refresh</ins></a>');
				$('.message').addClass('message-active');
			}
			env.tmp.t2 = null
			delete env.tmp.t2
		}, 10000);
	</script>
	<script src="blog\staticDB.js" ></script>
	<script src="js\search.js"></script>
	<script src="js\typed.js"></script>
	<script src="script.js" ></script>
	<script src="js\player.js"></script>

</body>


</html>